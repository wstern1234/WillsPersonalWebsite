{"ast":null,"code":"import * as React from \"react\";\nimport { useLatestRef } from \"./use-latest-ref\";\n/**\n * React Hook that provides a declarative `setInterval`\n *\n * @param callback the callback to execute at interval\n * @param delay the `setInterval` delay (in ms)\n */\n\nexport function useInterval(callback, delay) {\n  var callbackRef = useLatestRef(callback);\n  React.useEffect(function () {\n    var intervalId = null;\n\n    var tick = function tick() {\n      return callbackRef.current == null ? void 0 : callbackRef.current();\n    };\n\n    if (delay !== null) {\n      intervalId = window.setInterval(tick, delay);\n    }\n\n    return function () {\n      if (intervalId) {\n        window.clearInterval(intervalId);\n      }\n    };\n  }, [delay, callbackRef]);\n}","map":{"version":3,"sources":["../../src/use-interval.ts"],"names":["callbackRef","useLatestRef","React","intervalId","tick","delay","window"],"mappings":"AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,SAAA,YAAA,QAAA,kBAAA;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAA,WAAA,CAAA,QAAA,EAAA,KAAA,EAAiE;AACtE,MAAMA,WAAW,GAAGC,YAAY,CAAhC,QAAgC,CAAhC;AAEAC,EAAAA,KAAK,CAALA,SAAAA,CAAgB,YAAM;AACpB,QAAIC,UAAyB,GAA7B,IAAA;;AACA,QAAMC,IAAI,GAAG,SAAPA,IAAO;AAAA,aAAMJ,WAAW,CAAjB,OAAMA,IAAN,IAAMA,GAAN,KAAA,CAAMA,GAAAA,WAAW,CAA9B,OAAmBA,EAAN;AAAA,KAAb;;AACA,QAAIK,KAAK,KAAT,IAAA,EAAoB;AAClBF,MAAAA,UAAU,GAAGG,MAAM,CAANA,WAAAA,CAAAA,IAAAA,EAAbH,KAAaG,CAAbH;AACD;;AACD,WAAO,YAAM;AACX,UAAA,UAAA,EAAgB;AACdG,QAAAA,MAAM,CAANA,aAAAA,CAAAA,UAAAA;AACD;AAHH,KAAA;AANFJ,GAAAA,EAWG,CAAA,KAAA,EAXHA,WAWG,CAXHA;AAYD","sourcesContent":["import * as React from \"react\"\nimport { useLatestRef } from \"./use-latest-ref\"\n\n/**\n * React Hook that provides a declarative `setInterval`\n *\n * @param callback the callback to execute at interval\n * @param delay the `setInterval` delay (in ms)\n */\nexport function useInterval(callback: () => void, delay: number | null) {\n  const callbackRef = useLatestRef(callback)\n\n  React.useEffect(() => {\n    let intervalId: number | null = null\n    const tick = () => callbackRef.current?.()\n    if (delay !== null) {\n      intervalId = window.setInterval(tick, delay)\n    }\n    return () => {\n      if (intervalId) {\n        window.clearInterval(intervalId)\n      }\n    }\n  }, [delay, callbackRef])\n}\n"]},"metadata":{},"sourceType":"module"}